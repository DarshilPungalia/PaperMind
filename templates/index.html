<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Paper Mind - Multiple Inputs</title>
    <!-- Add marked.js for markdown parsing -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/marked/5.1.2/marked.min.js"></script>
    <link rel="stylesheet" href="{{ url_for('static', filename='stylesheets/index.css') }}">
</head>
<body>
    <h1>Paper Mind</h1>
    <div class="nav-links">
    <a href="/">Process Documents</a>
    <a href="/chat">Chat</a>
    </div>

    <button class="files-toggle" id="filesToggle" onclick="toggleSidebar()">
    >
    <span class="files-count" id="filesCount" style="display: none;">0</span>
    </button>

    <!-- Sidebar Overlay -->
    <div class="sidebar-overlay" id="sidebarOverlay" onclick="closeSidebar()"></div>

    <!-- Sidebar -->
    <div class="sidebar" id="sidebar">
        <div class="sidebar-header">
            <span class="sidebar-title">Uploaded Files</span>
            <button class="close-sidebar" onclick="closeSidebar()">×</button>
        </div>
        <div class="sidebar-content">
            <div class="file-list" id="fileList">
                <div class="no-files">No files uploaded yet</div>
            </div>
        </div>
    </div>
    
    <div class="input-summary" id="inputSummary">
        <span class="input-count">1</span> input source(s) configured
    </div>
    
    <form id="docForm" action="/" method="POST" enctype="multipart/form-data">
        <div id="inputContainer"></div>
        
        <button type="button" class="add-input" onclick="addInputGroup()">+ Add Another Input</button>
        
        <label for="query">Task:</label>
        <select name="query" id="query" required>
            <option value="summarise">Summarise All</option>
            <option value="faq">Generate FAQs</option>
            <option value="guide">Study Guide</option>
            <option value="timeline">Timeline</option>
            <option value="map">Mind Map</option>
            <!-- <option value="compare">Compare Sources</option>-->
        </select>

        <button type="submit" id="submitBtn">Process All Inputs</button>
    </form>
    
    <div class="loader" id="loader"></div>
    <div id="result">{{ result|safe }}</div>

    <footer>PaperMind can make mistakes — please double-check critical information.</footer>

    <script src="{{ url_for('static', filename='scripts/index.js') }}"></script>
</body>
</html>